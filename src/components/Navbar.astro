---
import ThemeSelector from './ThemeSelector.jsx';

const menuItems = [
  { name: 'Home', link: "/" },
  { name: 'Gallery', link: "/collections" },
  { name: 'About', link: "/about" },
];
---

<nav
  x-data="{ isOpen: false, scrolled: false }"
  @scroll.window="scrolled = window.scrollY > 50"
  class="w-full bg-[hsl(var(--card))] text-[hsl(var(--card-foreground))]
         flex items-center justify-between px-6 py-6 transition-all duration-300"
  :class="scrolled ? 'py-3 bg-white shadow-sm' : 'py-5 bg-transparent'"
>

  <!-- Left: Logo -->
  <div class="flex items-center">
    <a href="/" class="text-xl font-semibold tracking-tight">
      Wayne Stephens Photography
    </a>
  </div>

  <!-- Middle: Desktop Menu -->
  <div class="hidden md:flex items-center gap-8 ml-auto">
    {
      menuItems.map((item) => (
        <a
          href={item.link}
          class="nav-link relative after:content-[''] after:absolute after:left-0
                 after:bottom-[-2px] after:h-[2px] after:bg-black after:w-0
                 hover:after:w-full transition-all"
        >
          {item.name}
        </a>
      ))
    }
  </div>

  <!-- Right: ThemeSelector + Mobile Toggle -->
  <div class="flex items-center gap-4 ml-6">

    <ThemeSelector client:load />

    <!-- Mobile Menu Button -->
    <button
      @click="isOpen = !isOpen"
      class="md:hidden text-gray-800 focus:outline-none"
    >
      <svg x-show="!isOpen" class="h-6 w-6" fill="none" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16" />
      </svg>

      <svg x-show="isOpen" class="h-6 w-6" fill="none" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="M6 18L18 6M6 6l12 12" />
      </svg>
    </button>
  </div>

  <!-- Mobile Slide-In Menu -->
  <div>
    <div
      x-show="isOpen"
      class="fixed top-0 right-0 w-64 h-full bg-white shadow-xl z-50
        flex flex-col py-6 px-6 space-y-6 text-lg
        md:hidden"
      x-transition:enter="transform transition ease-out duration-300"
      x-transition:enter-start="translate-x-full"
      x-transition:enter-end="translate-x-0"
      x-transition:leave="transform transition ease-in duration-200"
      x-transition:leave-start="translate-x-0"
      x-transition:leave-end="translate-x-full"
    >
      {
        menuItems.map((item) => (
          <a
            href={item.link}
            class="block"
            @click="isOpen = false"
          >
            {item.name}
          </a>
        ))
      }
    </div>
  </div>

</nav>
